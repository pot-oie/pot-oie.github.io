---
// src/components/PostCard.astro

import { Image } from "astro:assets";
import FormattedDate from "./FormattedDate.astro";

export interface Props {
  post: any; // 先用 'any'，后面再优化
}
const { post } = Astro.props;
const slug = post.id.replace(/\.mdx?$/, "");
---

<a
  href={`/blog/${slug}/`}
  class="group block rounded-lg overflow-hidden shadow-md bg-white dark:bg-zinc-800 transition-all duration-300 hover:shadow-xl dark:hover:shadow-zinc-700/50"
>
  {
    post.data.image && (
      <Image
        src={post.data.image}
        alt={post.data.title}
        width={1200}
        height={630}
        format="webp"
        class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"
      />
    )
  }

  <div class="p-6">
    <p class="text-sm text-zinc-500 dark:text-zinc-400 mb-2">
      <FormattedDate date={post.data.pubDate} />
    </p>

    <h3
      class="text-2xl font-bold mb-3 text-zinc-900 dark:text-zinc-100 group-hover:text-primary-500 transition-colors"
    >
      {post.data.shortTitle}
    </h3>

    <p class="text-zinc-700 dark:text-zinc-300 line-clamp-3">
      {post.data.description || "这篇文章没有摘要..."}
    </p>
  </div>
</a>
